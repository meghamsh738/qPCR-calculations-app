@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

:root {
  color-scheme: dark;
  font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
  background: #0a0f18;
  color: #e9edf7;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background:
    radial-gradient(circle at 12% 18%, rgba(63, 142, 252, 0.18), transparent 32%),
    radial-gradient(circle at 82% -8%, rgba(255, 60, 255, 0.16), transparent 32%),
    linear-gradient(140deg, #050910, #0c1626 55%, #070c15);
}

.page {
  max-width: 1920px;
  margin: 0 auto 64px;
  padding: 32px 22px 64px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.hero {
  padding: 26px;
  border-radius: 22px;
  background: linear-gradient(135deg, #0d203b, #0f2e57 60%, #0b1d38);
  border: 1px solid rgba(255, 255, 255, 0.06);
  box-shadow: 0 28px 80px rgba(7, 15, 30, 0.55);
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}

.hero h1 {
  margin: 8px 0 10px;
  font-size: clamp(30px, 4vw, 44px);
  letter-spacing: -0.02em;
}

.hero .tag {
  display: inline-flex;
  padding: 7px 11px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.08);
  color: #c7d7ff;
  font-weight: 700;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: 11px;
}

.lede { margin: 0 0 10px; color: #dbe7ff; line-height: 1.6; }

.pill-row { display: flex; flex-wrap: wrap; gap: 10px; }

.pill {
  display: inline-flex;
  align-items: center;
  padding: 8px 14px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.10);
  color: #eef3ff;
  font-weight: 800;
  border: 1px solid rgba(255, 255, 255, 0.18);
  font-size: 13px;
}

.pill.ghost { background: rgba(255, 255, 255, 0.06); color: #e3ecff; border-color: rgba(255,255,255,0.12); }
.pill.ok { background: #22c55e; color: #042012; border-color: #22c55e; }
.pill.warn { background: #fbbf24; color: #2a1700; border-color: #f59e0b; }

.hero-meta {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: 16px;
  padding: 14px;
}

.meta-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 12px 0 8px; }

.meta-card { background: rgba(255, 255, 255, 0.06); border: 1px solid rgba(255, 255, 255, 0.12); border-radius: 12px; padding: 12px; }
.meta-card p { margin: 0; color: #c6d6ff; font-size: 13px; }
.meta-card strong { color: #fff; font-size: 19px; }

.kicker { text-transform: uppercase; letter-spacing: 0.18em; font-size: 11px; margin: 0; color: #7c8db1; }
.muted { color: #9fb0cc; margin: 0; line-height: 1.5; }
.muted-small { color: #9fb0cc; font-size: 12px; }

.shell { width: 100%; margin: 0 auto; }
.grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); gap: 16px; }
.grid-2.tall section.card { min-height: 720px; }

.card {
  background: #0f141d;
  border: 1px solid #1f2a3c;
  border-radius: 18px;
  padding: 18px;
  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.35);
}

.section-head { display: flex; justify-content: space-between; gap: 12px; align-items: flex-start; flex-wrap: wrap; }
.section-head h2 { margin: 4px 0; font-size: 22px; letter-spacing: -0.01em; }

.tabs { display: flex; gap: 8px; padding: 8px; background: rgba(255, 255, 255, 0.04); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 14px; }
.tab { flex: 1; padding: 11px 14px; background: rgba(255, 255, 255, 0.02); border: 1px solid #23324b; color: #dfe7ff; border-radius: 10px; font-weight: 800; cursor: pointer; transition: all 120ms ease; }
.tab.active { background: linear-gradient(120deg, #2563eb, #06b6d4); border-color: transparent; color: #fff; box-shadow: 0 12px 28px rgba(37, 99, 235, 0.35); }

.toggle { display: inline-flex; align-items: center; gap: 8px; cursor: pointer; font-weight: 700; color: #e5edff; }
.toggle input { display: none; }
.toggle-ui { width: 48px; height: 26px; border-radius: 999px; background: #1c2436; border: 1px solid #2d3c56; position: relative; transition: all 180ms ease; }
.toggle-ui::after { content: ''; position: absolute; width: 20px; height: 20px; border-radius: 50%; background: #e8f0ff; top: 2px; left: 2px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25); transition: all 180ms ease; }
.toggle input:checked + .toggle-ui { background: linear-gradient(90deg, #2563eb, #06b6d4); border-color: #1d4ed8; }
.toggle input:checked + .toggle-ui::after { transform: translateX(22px); }
.toggle-label { font-size: 14px; }

.field { background: rgba(255, 255, 255, 0.02); border: 1px dashed #2d3a57; border-radius: 14px; padding: 14px; }
.big-field { margin-top: 12px; }

.field-top { display: flex; align-items: center; justify-content: space-between; gap: 8px; flex-wrap: wrap; }

.textarea {
  width: 100%;
  min-height: 220px;
  border-radius: 14px;
  border: 1px solid #27354d;
  padding: 14px;
  font-family: 'Inter', 'Fira Code', monospace;
  font-size: 15px;
  background: #0c1018;
  color: #f0f6ff;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
  resize: vertical;
}
.textarea.large { min-height: 260px; font-size: 16px; }
.textarea:focus { outline: 2px solid #2563eb; border-color: #2563eb; }

.help { margin: 4px 0; color: #9fb0cc; font-size: 13px; }

.preview { margin-top: 14px; background: #0f1724; color: #e5edff; border-radius: 16px; padding: 16px; border: 1px solid #24324c; box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.03); }
.preview.wide { grid-column: 1 / -1; }

.mini-plate { margin-top: 12px; display: grid; gap: 12px; }
.plate-preview-card .mini-plate { width: 100%; }
.plate-head { display: flex; justify-content: space-between; align-items: center; font-weight: 700; font-size: 14px; }

.plate-shell { width: 100%; display: flex; justify-content: flex-start; overflow: auto; padding: 18px 0; max-height: 720px; }
.plate-mini {
  display: grid;
  grid-template-columns: 46px repeat(24, minmax(30px, 1fr));
  grid-template-rows: 40px repeat(16, minmax(30px, 1fr));
  gap: 2px;
  padding: 14px;
  border-radius: 16px;
  border: 1px solid #2d3c57;
  background:
    linear-gradient(135deg, rgba(37, 99, 235, 0.12), rgba(6, 182, 212, 0.06)),
    radial-gradient(circle at 18% 20%, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.01));
  width: 100%;
  max-width: 100%;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.07), 0 16px 44px rgba(0,0,0,0.30);
}

/* Support for plate-grid structure used in App.tsx (mirrors plate-mini styling) */
.plate-grid-wrapper {
  display: flex;
  justify-content: flex-start;
  overflow: auto;
  padding: 16px 0;
  width: 100%;
  max-height: 720px;
}
.plate-grid {
  --well-size: min(32px, calc((100% - 46px - 25 * 2px) / 24));

  display: grid;
  grid-template-columns: 46px repeat(24, minmax(var(--well-size), 1fr));
  grid-template-rows: 40px repeat(16, minmax(var(--well-size), auto));
  gap: 2px;
  padding: 14px;
  border-radius: 16px;
  border: 1px solid #2d3c57;
  background:
    linear-gradient(135deg, rgba(37, 99, 235, 0.12), rgba(6, 182, 212, 0.06)),
    radial-gradient(circle at 18% 20%, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.01));
  width: 100%;
  max-width: 100%;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.07), 0 16px 44px rgba(0,0,0,0.30);
}
.corner { width: 46px; height: 40px; position: sticky; top: 0; left: 0; z-index: 5; background: #0f172a; }
.col-head, .row-head { display: flex; align-items: center; justify-content: center; font-variant-numeric: tabular-nums; font-size: 15px; color: #f7faff; font-weight: 900; }
.row-head { width: 46px; position: sticky; left: 0; z-index: 4; background: #0f172a; border-right: 1px solid rgba(15, 23, 42, 0.9); }
.col-head { position: sticky; top: 0; z-index: 3; background: #0f172a; border-bottom: 1px solid rgba(15, 23, 42, 0.9); }
.well-dot {
  width: var(--cell);
  height: var(--cell);
  border-radius: 5px;
  background: #0b1221;
  border: 1px solid rgba(255, 255, 255, 0.10);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
  transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease;
}
.well-dot:hover {
  border-color: rgba(255, 255, 255, 0.28);
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.18), 0 6px 12px rgba(0,0,0,0.35);
  transform: translateY(-1px);
}

/* well-square matches well-dot class for plate-grid */
.well-square {
  width: 100%;
  aspect-ratio: 1;
  border-radius: 7px;
  background: #0b1221;
  border: 1.3px solid rgba(255, 255, 255, 0.16);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
  transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease;
}
.well-square:hover {
  border-color: rgba(255, 255, 255, 0.32);
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.22), 0 8px 14px rgba(0,0,0,0.38);
  transform: translateY(-1px);
}
.well-square:hover::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 9px;
  border: 1px solid rgba(255, 255, 255, 0.35);
  pointer-events: none;
}
.well-label { font-size: 14px; font-weight: 900; color: #ffffff; line-height: 1; text-shadow: 0 1px 5px rgba(0, 0, 0, 0.9); letter-spacing: 0.01em; }
.well-dot.sample { background: #3ecbff; }
.well-dot.standard { background: #22c55e; }
.well-dot.positive { background: #f59e0b; }
.well-dot.negative { background: #a78bfa; }
.well-dot.blank { background: #94a3b8; }
.well-dot.empty { background: #101828; border-color: rgba(255, 255, 255, 0.06); }

.legend { display: flex; gap: 12px; flex-wrap: wrap; color: #cdd6f4; font-size: 13px; }
.swatch { display: inline-block; width: 14px; height: 14px; margin-right: 6px; border-radius: 4px; vertical-align: middle; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
.swatch.sample { background: repeating-linear-gradient(45deg, #22c55e 0 10px, #0ea5e9 10px 20px, #a855f7 20px 30px); }
.swatch.standard { background: #22c55e; }
.swatch.positive { background: #f59e0b; }
.swatch.negative { background: #a78bfa; }
.swatch.blank { background: #94a3b8; }
.swatch.empty { background: #1e293b; border: 1px solid #334155; }

.side-head { display: flex; align-items: center; justify-content: space-between; gap: 10px; }
.side-head .pill { color: #e5edff; background: rgba(255,255,255,0.08); }

.controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px; margin: 12px 0; }
.control { display: grid; gap: 6px; color: #dfe7ff; font-weight: 700; font-size: 14px; }
.control input, .control select {
  width: 100%;
  border-radius: 10px;
  border: 1px solid #2b3a55;
  background: #0d1320;
  color: #f1f6ff;
  padding: 10px 12px;
  font-size: 14px;
}
.control input:focus, .control select:focus { outline: 2px solid #2563eb; border-color: #2563eb; }

.gene-table { margin-top: 12px; border: 1px solid #22304a; border-radius: 12px; overflow: hidden; background: rgba(255,255,255,0.02); }
.gene-header, .gene-row { display: grid; grid-template-columns: 1.6fr 1fr 1fr 90px; gap: 10px; padding: 10px 12px; align-items: center; }
.gene-header { background: rgba(255, 255, 255, 0.04); color: #9fb0cc; font-weight: 700; font-size: 13px; }
.gene-row:nth-child(even) { background: rgba(255, 255, 255, 0.02); }
.gene-input, .gene-row select { border-radius: 10px; border: 1px solid #2b3a55; background: #0d1320; color: #f1f6ff; padding: 10px 12px; font-size: 14px; }
.gene-row select { cursor: pointer; }
.gene-actions { padding: 10px 12px; background: rgba(255, 255, 255, 0.02); }

.cta-row { margin-top: 12px; display: flex; justify-content: space-between; gap: 12px; align-items: center; flex-wrap: wrap; }

.button-row { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
.button-row select { border-radius: 10px; border: 1px solid #2b3a55; background: #0d1320; color: #f1f6ff; padding: 8px 10px; }

.primary {
  background: linear-gradient(120deg, #2563eb, #06b6d4);
  color: #fff;
  border: none;
  border-radius: 12px;
  padding: 12px 18px;
  font-weight: 800;
  cursor: pointer;
  box-shadow: 0 14px 30px rgba(6, 182, 212, 0.25);
}
.primary:disabled { opacity: 0.6; cursor: not-allowed; }

.ghost {
  background: rgba(255, 255, 255, 0.04);
  color: #e5edff;
  border: 1px solid #2a3954;
  border-radius: 10px;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 700;
}

.table-wrap { margin-top: 10px; border: 1px solid #22304a; border-radius: 12px; background: rgba(255,255,255,0.02); }
.table-scroll { width: 100%; overflow: auto; }
.table-foot { display: flex; justify-content: space-between; padding: 10px 12px; color: #9fb0cc; font-size: 13px; }

.data { width: 100%; border-collapse: collapse; min-width: 720px; color: #e8eefc; }
.data thead { background: rgba(255, 255, 255, 0.05); }
.data th, .data td { padding: 10px 12px; border-bottom: 1px solid #22304a; text-align: left; }
.data tbody tr:nth-child(even) { background: rgba(255, 255, 255, 0.02); }
.data .num { text-align: right; font-variant-numeric: tabular-nums; }
.data.layout-table td.plate-cell { color: #9fb0cc; text-align: right; }
.data.layout-table td.type-cell { display: flex; align-items: center; gap: 6px; font-weight: 800; }
.type-dot { font-size: 10px; }
.type-sample { color: #22c55e; }
.type-standard { color: #0ea5e9; }
.type-positive { color: #f59e0b; }
.type-negative { color: #a855f7; }
.type-blank { color: #94a3b8; }

.empty { padding: 16px; border: 1px dashed #2f3d59; border-radius: 12px; background: rgba(255, 255, 255, 0.02); color: #9fb0cc; text-align: center; }

.alert { padding: 12px 14px; border-radius: 12px; display: flex; justify-content: space-between; gap: 10px; margin: 0 auto; width: min(1200px, 96vw); }
.alert.error { background: rgba(239, 68, 68, 0.12); border: 1px solid rgba(248, 113, 113, 0.55); color: #fecdd3; }
.alert button { background: transparent; border: 1px solid rgba(255,255,255,0.25); color: #fff; border-radius: 8px; padding: 6px 10px; cursor: pointer; }

.bullets { color: #cbd6ef; padding-left: 18px; margin: 6px 0 0; line-height: 1.6; }

.notes ul { margin-top: 6px; }

.table-scroll::-webkit-scrollbar { height: 10px; width: 10px; }
.table-scroll::-webkit-scrollbar-track { background: #0d1320; }
.table-scroll::-webkit-scrollbar-thumb { background: #1f2d45; border-radius: 6px; }

@media (max-width: 900px) {
  .hero { grid-template-columns: 1fr; }
  .gene-header, .gene-row { grid-template-columns: 1.2fr 1fr 1fr 70px; }
}
